https://www.jianshu.com/p/1f1049d0a0f4
#访问者模式介绍
访问模式是一种将数据操作和数据结构分离的设计模式

#访问者模式的使用场景
1.对象结构比较稳定，但经常需要在此对象结构上定义新的操作。
2.需要对一个对象结构中的对象进行很多不同的并且不相干的操作，而需要避免这些操作“污染”这些对象的类，
  也不希望在增加新操作时修改这些类
  
#访问者模式的UML类图




#访问者模式的简单示例
年底，CEO和CTO开始评定员工一年的工作绩效，员工分为工程师和经理，CTO关注工程师的代码量、经理的新产品数量；CEO关注的是工程师的KPI和经理的KPI以及新产品数量。
由于CEO和CTO对于不同员工的关注点是不一样的，这就需要对不同员工类型进行不同的处理。访问者模式此时可以派上用场了。


#总结
我们要根据具体情况来评估是否适合使用访问者模式，例如，我们的对象结构是否足够稳定，是否需要经常定义新的操作，使用访问者模式是否能优化我们的代码，而不是使我们的代码变得更复杂。

访问者模式的优点。

各角色职责分离，符合单一职责原则
通过UML类图和上面的示例可以看出来，Visitor、ConcreteVisitor、Element 、ObjectStructure，职责单一，各司其责。
具有优秀的扩展性
如果需要增加新的访问者，增加实现类 ConcreteVisitor 就可以快速扩展。
使得数据结构和作用于结构上的操作解耦，使得操作集合可以独立变化
员工属性（数据结构）和CEO、CTO访问者（数据操作）的解耦。
灵活性
访问者模式的缺点。

具体元素对访问者公布细节，违反了迪米特原则
CEO、CTO需要调用具体员工的方法。
具体元素变更时导致修改成本大
变更员工属性时，多个访问者都要修改。
违反了依赖倒置原则，为了达到“区别对待”而依赖了具体类，没有以来抽象
访问者 visit 方法中，依赖了具体员工的具体方法。
